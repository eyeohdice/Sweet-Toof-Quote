<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sweet Toof - Custom Grillz Quote</title>
    <style>
        /* --- Global Styles & Variables --- */
        :root {
          --primary-color: #007bff; /* A vibrant, modern blue */
          --primary-darker: #0056b3;
          --secondary-color: #6c757d; /* Muted grey for secondary text/elements */
          --light-bg: #f8f9fa;      /* Very light grey for background */
          --white-bg: #ffffff;      /* White for content boxes */
          --border-color: #dee2e6;  /* Subtle border color */
          --text-color: #212529;    /* Dark grey for primary text */
          --text-light: #495057;    /* Lighter text */
          --success-color: #28a745; /* Green for copy button */
          --success-darker: #218838;
          --warning-bg: #fff3cd;    /* For secret info */
          --warning-border: #ffeeba;
          --warning-text: #856404;

          --border-radius-sm: 4px;
          --border-radius-md: 8px;
          --border-radius-lg: 12px;
          --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.05);
          --shadow-md: 0 4px 10px rgba(0, 0, 0, 0.07);
        }

        body {
          font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
          background-color: var(--light-bg);
          color: var(--text-color);
          line-height: 1.6;
          margin: 0;
          padding: 20px;
        }

        /* --- Main Container --- */
        .container {
           max-width: 1140px;
           margin: 20px auto;
           padding: 30px;
           background-color: var(--white-bg);
           border-radius: var(--border-radius-lg);
           box-shadow: var(--shadow-md);
        }

        /* --- Headings & Text --- */
        h1, h2, h3 {
          color: var(--text-color);
          margin-bottom: 0.8em;
          font-weight: 600; /* Slightly bolder headings */
        }

        h1 {
            text-align: center;
            color: var(--primary-darker);
            margin-bottom: 1.5em;
        }

        h2 {
            margin-top: 1.5em;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 0.5em;
        }

        h3 { /* Specific styling for quote results heading */
          color: var(--primary-darker);
          border-bottom: 2px solid var(--primary-color);
          padding-bottom: 10px;
          margin-bottom: 20px;
        }

        label {
          display: block;
          margin-bottom: 8px;
          font-weight: 600;
          color: var(--text-light);
        }

        .hint-text {
            font-size: 0.85rem;
            color: var(--secondary-color);
            font-weight: normal;
            display: block; /* Put on new line */
            margin-top: 4px;
            margin-bottom: 10px;
        }

        /* --- Form Elements --- */
        input[type="text"],
        select {
          display: block;
          width: calc(100% - 32px); /* Full width minus padding */
          padding: 12px 15px; /* Slightly larger padding */
          margin-bottom: 20px; /* Increased spacing */
          font-size: 1rem;
          line-height: 1.5;
          color: var(--text-light);
          background-color: var(--white-bg);
          background-clip: padding-box;
          border: 1px solid var(--border-color);
          border-radius: var(--border-radius-md); /* Consistent rounded corners */
          transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out;
        }

        input[type="text"]:focus,
        select:focus {
          border-color: var(--primary-color);
          outline: 0;
          box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, .25); /* Focus ring */
        }

        /* --- SVG Section --- */
        #svgContainer {
          margin-bottom: 30px; /* Space below SVG */
          background-color: #fff; /* Ensure background */
          padding: 15px;
          border-radius: var(--border-radius-md);
          box-shadow: var(--shadow-sm);
          border: 1px solid var(--border-color);
        }

        #svgContainer svg {
          width: 100%;
          height: auto;
          display: block;
          cursor: default; /* Indicate it's not draggable */
        }

        #svgContainer svg .interactive-path {
          stroke: #aaa; /* Grey outline for teeth */
          stroke-width: 0.5; /* Make outline thin */
          transition: fill 0.2s ease; /* Smooth fill transition */
          cursor: pointer;
        }

        #svgContainer svg .interactive-path:hover {
           /* Subtle brightness increase on hover */
           filter: brightness(0.9) saturate(1.1);
        }

        /* SVG Text Labels (Style the ones embedded in the SVG) */
        #svgContainer svg text {
            font-family: system-ui, -apple-system, sans-serif;
            fill: var(--text-light);
            font-weight: 600; /* Bolder */
            font-size: 14px; /* Adjust size as needed - RELATIVE TO VIEWBOX */
            text-anchor: middle; /* Center the text */
            dominant-baseline: middle; /* Vertically center */
            paint-order: stroke; /* Make text more readable over tooth shapes */
            stroke: var(--white-bg); /* White outline */
            stroke-width: 3px; /* Outline thickness - RELATIVE TO VIEWBOX */
            stroke-linecap: round;
            stroke-linejoin: round;
            pointer-events: none; /* Don't block clicks on teeth */
            user-select: none; /* Prevent text selection */
        }

        /* Hide the Inkscape text elements if JS labels are preferred later */
        /* svg > text { display: none; } */


        /* --- Tooth Selections & Add-Ons --- */
        #toothSelections {
          margin-top: 30px;
          padding: 25px;
          background-color: #fdfdff; /* Slightly different bg for depth */
          border: 1px solid var(--border-color);
          border-radius: var(--border-radius-md);
          box-shadow: var(--shadow-sm);
        }

        .add-on-group {
          margin-bottom: 25px;
          padding: 20px;
          border: 1px solid #e9ecef;
          border-radius: var(--border-radius-md);
          background-color: var(--white-bg);
        }

        .add-on-group > label { /* Tooth ID Label styling */
           font-size: 1.2rem;
           font-weight: 700;
           color: var(--text-color);
           margin-bottom: 5px;
           display: flex;
           flex-direction: column;
        }

        .addon-buttons {
          display: flex;
          flex-wrap: wrap;
          gap: 10px; /* Spacing between buttons */
          margin-top: 10px;
        }

        .addon-button {
          flex-grow: 1;
          min-width: 130px; /* Ensure buttons have decent width */
          padding: 10px 12px;
          font-size: 0.9rem;
          font-weight: 500;
          background-color: var(--light-bg);
          color: var(--text-light);
          border: 1px solid var(--border-color);
          border-radius: var(--border-radius-md);
          text-align: center;
          transition: all 0.2s ease;
          cursor: pointer;
          display: flex;
          flex-direction: column; /* Stack elements */
          align-items: center;
          justify-content: center; /* Center content vertically */
          position: relative;
        }

        .addon-button .addon-name {
          font-weight: 600; /* Make name slightly bolder */
          margin-bottom: 3px;
        }

        .addon-button .addon-price {
          font-size: 0.8em;
          color: var(--secondary-color);
        }

        .addon-preview-icon {
          width: 18px;
          height: 18px;
          fill: var(--secondary-color);
          margin-top: 6px; /* Space between price and icon */
          transition: fill 0.2s ease;
          vertical-align: middle;
        }
        .addon-preview-icon:hover {
            opacity: 0.7; /* Feedback on icon hover */
        }


        .addon-button:hover {
          background-color: #e9ecef;
          border-color: #adb5bd;
        }

        .addon-button:hover .addon-preview-icon {
           fill: var(--primary-color); /* Highlight icon on hover */
        }

        /* Selected Add-On Button */
        .addon-button.selected {
          background-color: var(--primary-color);
          color: var(--white-bg);
          border-color: var(--primary-darker);
          box-shadow: 0 2px 5px rgba(0, 123, 255, 0.3);
        }

        .addon-button.selected .addon-price {
          color: rgba(255, 255, 255, 0.8); /* Slightly muted price on selected */
        }

        .addon-button.selected .addon-preview-icon {
           fill: var(--white-bg);
        }

        /* --- Buttons --- */
        button, .button { /* General button styling */
          display: inline-block;
          font-weight: 600;
          color: var(--white-bg);
          text-align: center;
          vertical-align: middle;
          user-select: none;
          background-color: var(--primary-color);
          border: 1px solid var(--primary-color);
          padding: 12px 24px; /* Generous padding */
          font-size: 1rem;
          line-height: 1.5;
          border-radius: var(--border-radius-md);
          transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;
          cursor: pointer;
        }

        button:hover, .button:hover {
          color: var(--white-bg);
          background-color: var(--primary-darker);
          border-color: var(--primary-darker);
        }

        button:focus, .button:focus {
          outline: 0;
          box-shadow: 0 0 0 0.2rem rgba(38, 143, 255, .5);
        }

        /* Specific Buttons */
        #generateQuoteBtn {
          margin-top: 30px; /* Space above button */
          width: 100%; /* Full width */
          padding: 15px 20px; /* Even larger */
          font-size: 1.15rem; /* Larger font */
          font-weight: 700; /* Bolder */
        }

        #copyQuoteBtn {
           background-color: var(--success-color);
           border-color: var(--success-color);
           margin-top: 15px;
           width: 100%; /* Full width */
           display: none; /* Keep JS control */
        }

        #copyQuoteBtn:hover {
           background-color: var(--success-darker);
           border-color: var(--success-darker);
        }

        #adminBtn { /* Style the admin button differently */
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
            font-size: 0.9rem;
            padding: 8px 15px;
            margin-top: 20px;
            float: right; /* Position it subtly */
        }
        #adminBtn:hover {
             background-color: var(--text-light);
             border-color: var(--text-light);
        }

        /* --- Quote Results --- */
        #results {
          margin-top: 30px;
          padding: 30px; /* More padding */
          background-color: #e7f3ff; /* Softer blue background */
          border: 1px solid #b8d8ff;
          border-radius: var(--border-radius-md);
          opacity: 0; /* Start hidden for transition */
          transform: translateY(15px); /* Start slightly down */
          transition: opacity 0.5s ease, transform 0.5s ease;
          display: none; /* Start hidden, JS will show */
          box-shadow: var(--shadow-sm);
          clear: both; /* Clear float from admin button */
        }

        #results.visible { /* Class added by JS */
           display: block; /* Make it visible */
           opacity: 1;
           transform: translateY(0);
        }

        #results p {
          margin-bottom: 12px;
          line-height: 1.7;
          color: var(--text-light);
        }

        #results strong {
          color: var(--text-color);
          font-weight: 600;
        }

        /* --- Secret Info Section --- */
        .secret-info {
           margin-top: 25px;
           padding: 20px;
           background-color: var(--warning-bg);
           border: 1px solid var(--warning-border);
           border-radius: var(--border-radius-md);
           display: none; /* Keep JS control */
        }

        .secret-info h4 {
            margin-top: 0;
            margin-bottom: 15px;
            color: var(--warning-text);
            font-weight: 700;
        }

        .secret-info p {
           margin-bottom: 8px;
           font-size: 0.95rem;
           color: var(--warning-text);
        }
        .secret-info strong {
            color: var(--warning-text); /* Ensure strong text matches */
            font-weight: 700;
        }

        /* --- Gallery Modal --- */
        #galleryModal {
          position: fixed;
          z-index: 1050;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          overflow: hidden;
          background-color: rgba(0, 0, 0, 0.85); /* Darker overlay */
          display: none; /* Controlled by JS */
          align-items: center;
          justify-content: center;
        }

        .gallery-modal-content {
          position: relative;
          background-color: var(--white-bg);
          padding: 30px; /* More padding */
          border-radius: var(--border-radius-lg); /* Larger radius */
          max-width: 90%;
          max-height: 90vh; /* Limit height */
          display: flex;
          flex-direction: column;
          align-items: center;
          box-shadow: 0 8px 25px rgba(0,0,0,.5);
          overflow: hidden; /* Prevent content spill */
        }

        #galleryImage {
          max-width: 100%;
          max-height: calc(80vh - 100px); /* Adjust based on padding/caption */
          object-fit: contain;
          display: block;
          margin-bottom: 20px;
          border-radius: var(--border-radius-sm);
        }

        #galleryCaption {
          text-align: center;
          margin-top: auto; /* Push caption towards bottom if space allows */
          padding-top: 15px;
          width: 100%;
        }

        #galleryCaption span:first-child { /* Name/Price */
           font-weight: 700; /* Bolder */
           font-size: 1.2rem;
           color: var(--text-color);
           display: block;
           margin-bottom: 8px;
        }

        .gallery-modal-description {
            display: block;
            font-size: 0.95rem;
            color: var(--text-light);
            max-width: 550px;
            margin: 0 auto;
            line-height: 1.5;
        }

        .gallery-modal-close, .gallery-modal-exit {
          position: absolute;
          top: 15px;
          right: 20px;
          color: var(--secondary-color);
          font-size: 35px; /* Larger close icon */
          font-weight: bold;
          cursor: pointer;
          line-height: 1;
          z-index: 1051;
          transition: color 0.2s ease;
        }

        .gallery-modal-exit { /* Style the X */
           background: rgba(255, 255, 255, 0.8);
           border-radius: 50%;
           width: 35px;
           height: 35px;
           display: flex;
           align-items: center;
           justify-content: center;
           box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .gallery-modal-close:hover, .gallery-modal-close:focus,
        .gallery-modal-exit:hover, .gallery-modal-exit:focus {
          color: var(--text-color);
          text-decoration: none;
        }

        .gallery-modal-nav {
          position: absolute;
          top: 50%;
          transform: translateY(-50%);
          background-color: rgba(255, 255, 255, 0.7);
          border: none;
          color: var(--text-color);
          font-size: 35px; /* Larger nav arrows */
          padding: 10px 15px;
          cursor: pointer;
          border-radius: 50%;
          user-select: none;
          line-height: 1;
          z-index: 1051;
          transition: background-color 0.2s ease, color 0.2s ease;
        }

        .gallery-modal-nav:hover {
           background-color: rgba(255, 255, 255, 0.95);
           color: var(--primary-color);
        }

        .gallery-modal-nav.prev { left: 20px; }
        .gallery-modal-nav.next { right: 20px; }

        /* --- Responsive Adjustments (Example) --- */
        @media (max-width: 768px) {
          body {
            padding: 10px;
          }
          .container {
            padding: 15px; /* Reduced padding */
            margin: 10px auto;
          }
          input[type="text"],
          select {
            padding: 10px 12px;
            width: calc(100% - 26px); /* Adjust width calc */
          }
          button, .button {
            padding: 10px 18px;
            font-size: 0.95rem;
          }
          #generateQuoteBtn {
            padding: 12px 15px;
            font-size: 1.1rem;
          }
          .addon-button {
              min-width: 100px; /* Further adjust min-width */
              padding: 8px 10px;
              font-size: 0.85rem;
          }
          .gallery-modal-content {
            padding: 15px;
          }
          #galleryImage {
             max-height: calc(75vh - 80px);
          }
          .gallery-modal-nav {
            font-size: 28px;
            padding: 8px 12px;
          }
          .gallery-modal-nav.prev { left: 10px; }
          .gallery-modal-nav.next { right: 10px; }
          #adminBtn {
              float: none; /* Stack admin button on small screens */
              display: block;
              width: auto; /* Allow it to size to content */
              margin: 15px auto; /* Center it */
          }
          #results {
              clear: none; /* No longer need to clear float */
          }

        }
         @media (max-width: 480px) {
            .addon-buttons {
                gap: 6px; /* Slightly less gap */
            }
             .addon-button {
                min-width: 80px; /* Even smaller min-width */
                font-size: 0.8rem;
            }
         }

    </style>
</head>
<body>

    <div class="container">
        <h1>Sweet Toof - Custom Grillz Quote Generator</h1>

        <button id="adminBtn" onclick="askPassword()">Admin Login</button>

        <h2>1. Select Teeth</h2>
        <p>Click on the teeth below to select them for your grillz.</p>
        <div id="svgContainer">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
            <svg
               width="1080"
               height="500"
               viewBox="0 0 1080 500"
               version="1.1"
               id="svg1"
               sodipodi:docname="teeth-map.svg"
               inkscape:version="1.4 (86a8ad7, 2024-10-11)"
               inkscape:export-filename="teeth-map.svg"
               inkscape:export-xdpi="96"
               inkscape:export-ydpi="96"
               xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
               xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
               xmlns="http://www.w3.org/2000/svg"
               xmlns:svg="http://www.w3.org/2000/svg">
              <defs
                 id="defs1" />
              <sodipodi:namedview
                 id="namedview1"
                 pagecolor="#ffffff"
                 bordercolor="#000000"
                 borderopacity="0.25"
                 inkscape:showpageshadow="2"
                 inkscape:pageopacity="0.0"
                 inkscape:pagecheckerboard="0"
                 inkscape:deskcolor="#d1d1d1"
                 inkscape:zoom="0.5283659"
                 inkscape:cx="487.35166"
                 inkscape:cy="576.30517"
                 inkscape:window-width="1920"
                 inkscape:window-height="1009"
                 inkscape:window-x="-8"
                 inkscape:window-y="-8"
                 inkscape:window-maximized="1"
                 inkscape:current-layer="svg1">
                <inkscape:page
                   x="0"
                   y="0"
                   width="1080"
                   height="500"
                   id="page2"
                   margin="0"
                   bleed="0" />
              </sodipodi:namedview>
              <g
                 id="layer1"
                 transform="translate(2.07706,-239.02555)">
                <path
                   id="path1"
                   fill="none"
                   stroke="#000000"
                   stroke-width="7.0265"
                   d="m 227.29317,367.9554 c -3.29981,0.0702 -9.89901,0.2038 -13.60287,0.54015 -3.70376,0.33639 -4.50986,0.8748 -5.18327,1.14375 -0.67367,0.26964 -1.21304,0.26875 -2.55994,0.80803 -1.34679,0.53841 -3.57894,1.65624 -5.78695,3.99413 -2.20797,2.33781 -4.75298,6.29829 -6.34527,9.88093 -1.5923,3.58264 -2.41694,7.13946 -3.35867,10.50287 -0.94182,3.36334 -2.02039,6.60002 -2.89579,10.37113 -0.87569,3.77123 -1.5461,8.08356 -2.21951,11.38339 -0.67366,3.29973 -1.34619,5.58616 -2.42371,12.92648 -1.07751,7.34041 -2.55904,19.73431 -2.89574,27.54611 -0.33676,7.81171 0.47032,11.04135 1.14377,14.20644 0.67339,3.16509 1.21033,6.26306 1.47961,8.28327 0.26965,2.02031 0.26877,2.96431 1.61584,7.13956 1.34689,4.17523 4.04586,11.59214 6.33624,17.27017 2.29029,5.67805 4.21062,9.69958 6.93525,13.44401 2.72462,3.74433 6.42003,7.44342 10.48469,11.01114 4.06463,3.5677 8.58312,7.08894 13.04451,10.21681 4.46132,3.12792 9.56142,6.29529 13.75255,5.96855 4.19122,-0.32671 10.6492,-4.46297 14.87827,-7.32107 4.22899,-2.85813 7.44836,-5.22853 11.42413,-7.92477 3.97577,-2.69632 8.84348,-5.80819 12.7359,-9.16843 3.89241,-3.36025 7.12794,-7.28896 9.11847,-13.53473 0.90457,-2.8381 1.60617,-6.40422 2.17865,-10.00355 0.93708,14.13829 4.35897,27.29456 11.71013,38.93396 4.43118,7.01604 12.05247,12.98427 20.20223,14.54687 17.90626,3.43324 31.6595,2.71391 55.35533,1.21183 9.57248,-0.60693 13.73893,-16.56666 13.73893,-16.56666 0,0 2.82792,-7.2742 2.01977,-66.67056 -12.12167,-75.15453 -53.3353,-71.11412 -54.14343,-70.71009 -32.71761,5.35385 -41.80138,42.20724 -48.94944,99.65209 -0.0616,-3.10256 1.84182,-42.25478 1.64148,-46.10775 -0.43565,-8.38227 -1.32169,-18.74927 -2.67333,-26.32505 -1.35163,-7.57589 -3.21947,-12.67373 -5.20602,-16.51222 -1.98666,-3.83857 -4.10593,-6.46482 -6.22723,-9.09124 -1.61628,-1.61618 -3.23448,-3.23176 -5.79153,-6.32711 -2.55702,-3.09534 -6.12263,-7.75682 -10.35758,-11.52856 -4.23488,-3.77175 -9.48789,-6.95397 -13.89326,-9.02319 -4.40543,-2.06912 -8.24516,-3.16559 -10.11253,-3.69908 -1.8673,-0.53315 -1.86986,-0.53491 -5.16968,-0.46726 z m 621.25392,1.42971 c -3.29981,-0.0702 -3.30236,-0.0702 -5.16959,0.46726 -1.86742,0.53315 -5.70712,1.62997 -10.11254,3.69909 -4.40542,2.06922 -9.65838,5.25143 -13.89327,9.02319 -4.23499,3.77174 -7.80053,8.43321 -10.35764,11.52856 -2.55702,3.09535 -4.17518,4.71093 -5.79144,6.32711 -2.12132,2.62641 -4.24056,5.25276 -6.22722,9.09124 -1.98666,3.83849 -3.85446,8.93632 -5.20603,16.5122 -1.35166,7.57589 -2.23754,17.9428 -2.67333,26.32507 -0.20034,3.85297 1.69538,43.79919 1.63737,46.90174 -2.27956,-63.98177 -14.37847,-95.40043 -48.94519,-100.44608 -0.80809,-0.40403 -42.02177,-4.44446 -54.14345,70.71009 -0.80805,59.39635 2.01977,66.67064 2.01977,66.67064 0,0 4.16654,15.95984 13.73902,16.56664 23.69579,1.50211 37.44901,2.22135 55.35525,-1.2119 8.14973,-1.56259 15.77111,-7.53082 20.20227,-14.54686 7.3512,-11.63941 10.77308,-24.79567 11.71006,-38.93387 0.57272,3.59923 1.27415,7.16536 2.17867,10.00345 1.99063,6.24577 5.22609,10.17449 9.1185,13.53473 3.8924,3.36034 8.76011,6.47212 12.73589,9.16843 3.97578,2.69625 7.19515,5.06664 11.42417,7.92477 4.22902,2.85811 10.68706,6.99436 14.87823,7.32108 4.19126,0.32673 9.29121,-2.84063 13.75265,-5.96849 4.46125,-3.12793 8.97986,-6.64917 13.0445,-10.21687 4.06464,-3.56772 7.76002,-7.26681 10.48464,-11.01114 2.72471,-3.74444 4.64494,-7.76597 6.93528,-13.44401 2.29043,-5.67804 4.98931,-13.09494 6.33615,-17.27017 1.34693,-4.17525 1.34646,-5.11926 1.61588,-7.13956 0.26961,-2.02021 0.80629,-5.11818 1.47961,-8.28327 0.6737,-3.16509 1.48055,-6.39473 1.14375,-14.20644 -0.33633,-7.81182 -1.81821,-20.20571 -2.89572,-27.54611 -1.0775,-7.34032 -1.75036,-9.62675 -2.42377,-12.92648 -0.67361,-3.29983 -1.344,-7.61217 -2.21946,-11.3834 -0.87566,-3.7711 -1.95401,-7.00779 -2.89572,-10.37112 -0.94171,-3.36341 -1.7619,-6.92023 -3.35422,-10.50278 -1.59223,-3.58264 -4.14177,-7.54321 -6.34969,-9.88102 -2.20801,-2.33789 -4.44015,-3.45537 -5.78708,-3.99413 -1.34684,-0.5384 -1.88644,-0.5384 -2.55986,-0.80804 -0.67361,-0.26964 -1.47961,-0.80717 -5.18331,-1.14374 -3.7038,-0.3364 -10.30294,-0.47254 -13.60285,-0.54015 z m -397.97634,2.28309 c -9.44125,-0.32499 -15.45111,3.03104 -20.16589,6.53589 -15.14678,11.25951 -21.9719,23.79324 -28.5718,38.28477 -7.63403,16.76192 -11.71468,54.00282 -11.71468,54.00282 0,0 -1.93122,16.21683 -1.14383,24.28256 1.3534,13.86249 5.56481,27.36868 9.99908,40.57245 7.51414,22.37494 25.14495,23.14337 25.14495,23.14337 0,0 39.42597,2.56844 41.71161,2.283 26.57115,3.14288 41.71635,-2.56846 42.28813,-2.283 32.85674,-8.57138 25.13943,-38.85931 23.99666,-69.7161 -1.14285,-30.85681 -7.71087,-43.42776 -12.56796,-60.57042 -7.4285,-15.42845 -17.42916,-33.99747 -39.71459,-47.426 -12.49988,-6.37489 -21.91846,-8.85639 -29.26168,-9.10934 z m 174.69873,1.42971 c -7.34322,0.25296 -16.7618,2.73445 -29.26168,9.10934 -22.28546,13.42853 -32.2861,31.99757 -39.71462,47.42601 -4.85705,17.14265 -11.4251,29.71816 -12.56796,60.57497 -1.14276,30.85681 -8.85998,61.14016 23.99675,69.71155 0.57179,-0.28546 15.71689,5.43042 42.28804,2.28757 2.28575,0.28544 41.71164,-2.28757 41.71164,-2.28757 0,0 17.6309,-0.76853 25.14504,-23.14338 4.43425,-13.20376 8.64559,-26.70986 9.99899,-40.57235 0.78698,-8.06574 -1.14375,-24.28263 -1.14375,-24.28263 0,0 -4.08073,-37.23637 -11.71467,-53.99826 -6.59999,-14.49156 -13.42502,-27.02984 -28.5718,-38.28937 -4.71478,-3.50483 -10.72463,-6.8612 -20.16598,-6.53588 z M 124.2077,384.61285 c -0.47683,-0.009 -0.93762,0.007 -1.36618,0.0527 -1.71427,0.19057 -2.93156,0.86514 -5.16971,3.21796 -2.23814,2.3531 -5.49811,6.38719 -7.49811,10.43483 -1.99999,4.0475 -2.741,8.11058 -3.15901,12.80842 -0.41798,4.69792 -0.511,10.02902 -0.93952,13.3623 -0.42853,3.33329 -1.1919,4.66676 -1.71567,5.71441 -0.52382,1.04754 -0.81033,1.81142 -0.95316,2.19217 -0.14291,0.38118 -0.14315,0.37856 -0.28597,2.37838 -0.14292,1.99993 -0.4288,6.00205 -0.28598,13.71627 0.0899,4.8497 0.34526,10.81635 0.60823,16.44862 -0.0825,-0.33903 -0.2052,-0.68684 -0.24963,-1.0076 -0.62289,-4.49467 -0.54516,-6.25113 -0.78687,-10.72948 -0.10875,-2.01563 -0.0281,-6.41881 -0.15825,-8.45606 -0.30708,-4.79735 -0.97984,-7.85149 -2.00069,-10.6707 -0.784612,-2.16689 -2.618286,-6.46323 -4.06676,-9.59962 -1.760294,-3.81161 -3.694243,-7.55023 -5.914081,-11.09739 -1.424437,-2.27616 -4.019596,-5.79002 -5.923167,-7.68418 -0.800985,-0.79752 -1.628942,-1.5728 -2.450936,-2.35117 -0.987131,-0.93461 -2.552384,-2.49439 -3.51756,-3.4631 -0.418947,-0.42072 -0.838745,-0.8414 -1.26176,-1.25722 -1.905275,-1.87415 -5.12256,-4.78628 -7.194012,-6.47685 -1.160975,-0.94754 -2.393398,-1.76972 -3.799003,-2.22864 -0.453866,-0.1485 -0.926565,-0.26525 -1.411566,-0.34517 -2.195518,-0.36187 -5.745254,1.02455 -7.534412,2.38285 -1.830418,1.38959 -3.438257,3.15069 -4.852,5.02905 -1.296018,1.72187 -3.107604,4.75537 -3.599324,6.84453 -0.196082,0.83353 -2.33993,17.20027 -2.414596,36.62364 -0.0142,3.9236 -0.04826,7.84501 -0.186146,11.75095 -0.07003,1.98921 -0.216618,3.98086 -0.317688,5.97304 -0.200341,3.95384 0.371062,10.38431 1.302642,14.23827 0.392355,1.62313 1.481786,6.02602 2.396427,9.84923 0.991106,4.14237 2.030286,8.28029 3.404188,12.28205 1.374659,4.00424 4.524754,10.15945 7.162215,13.46666 1.87518,2.35141 5.315897,6.58032 7.616081,9.49966 1.036246,1.31517 2.110063,2.5896 3.286084,3.72642 1.979657,1.9135 6.047895,4.15529 8.787182,4.32093 1.465035,0.0888 4.538097,-0.65872 6.499584,-1.90627 4.01581,-2.5544 9.305684,-8.62979 11.946078,-12.8313 2.10478,-3.34899 5.22591,-10.70213 6.2046,-16.39871 0.26911,-1.56629 0.71389,-5.03994 0.93499,-8.70996 0.007,0.0263 -5.350177,-58.95923 0.0139,0.0613 0.34509,3.79766 3.04703,9.47348 4.85653,13.52111 1.8095,4.04753 3.4322,6.3352 4.47979,7.90657 1.04763,1.57147 1.52335,2.42898 2.23764,3.38142 0.71433,0.95244 1.66668,1.99606 2.80954,3.47223 1.14283,1.47619 2.47601,3.38318 3.97598,5.5736 1.49999,2.19042 3.16558,4.66832 5.64176,7.62069 2.47617,2.95235 5.7627,6.37839 8.0246,8.09269 2.26191,1.7143 3.50019,1.71272 5.80968,0.90326 2.3095,-0.80982 5.69043,-2.42714 8.33326,-3.8081 2.64281,-1.38089 4.54595,-2.52463 6.33163,-3.7627 1.78569,-1.23806 3.45093,-2.57231 5.16518,-3.85799 1.71422,-1.28568 3.47611,-2.5204 5.52372,-4.23469 2.04761,-1.71431 4.38477,-3.90717 6.12286,-5.7643 1.73807,-1.85709 2.87814,-3.37791 3.54481,-4.71127 0.66662,-1.33327 0.85812,-2.47666 1.14376,-3.38142 0.28572,-0.90475 0.66763,-1.57068 1.14379,-4.66584 0.47613,-3.09519 1.04615,-8.62259 0.99854,-12.71782 -0.0474,-4.09522 -0.71336,-6.76195 -1.02122,-9.8038 -0.30787,-3.04179 -0.25807,-6.45632 -0.286,-9.02766 -0.0281,-2.57143 -0.13339,-4.29969 -0.25416,-7.5435 -0.12085,-3.24386 -0.25737,-8.00459 -0.46754,-11.24267 -0.21008,-3.23805 -0.4951,-4.95324 -0.97131,-6.66753 -0.47621,-1.71429 -1.14439,-3.42647 -1.90629,-5.85501 -0.76193,-2.42861 -1.61809,-5.57227 -2.31026,-7.4573 -0.69218,-1.88497 -1.21696,-2.51085 -1.88358,-3.55841 -0.66665,-1.04757 -1.47368,-2.51524 -2.36929,-4.50707 -0.89559,-1.99174 -1.87963,-4.50882 -4.56603,-8.32413 -2.68639,-3.81531 -7.07309,-8.92821 -11.24715,-13.00368 -4.17412,-4.07546 -8.13525,-7.11541 -11.02024,-9.30004 -2.88499,-2.18471 -4.69654,-3.51824 -6.17278,-4.3754 -1.47624,-0.85722 -2.61765,-1.23728 -3.90338,-1.7611 -1.28573,-0.52348 -2.71418,-1.19072 -4.53427,-1.67028 -1.36506,-0.35925 -2.94943,-0.61131 -4.37997,-0.63502 z m 827.42481,1.42972 c -1.43048,0.0262 -3.01485,0.27579 -4.37995,0.6359 -1.82001,0.47955 -3.24852,1.14646 -4.53413,1.67021 -1.28579,0.52347 -2.42718,0.90843 -3.90348,1.76567 -1.4762,0.85724 -3.28778,2.1907 -6.17271,4.37542 -2.88503,2.18462 -6.84169,5.21999 -11.01573,9.29545 -4.17413,4.07547 -8.56536,9.18837 -11.25174,13.00368 -2.68639,3.81531 -3.6704,6.33239 -4.56602,8.32422 -0.89562,1.99174 -1.70257,3.45941 -2.36927,4.50696 -0.6666,1.04758 -1.19144,1.67346 -1.8836,3.55849 -0.69215,1.88504 -1.54841,5.0287 -2.31021,7.45723 -0.76153,2.42854 -1.43021,4.14081 -1.90632,5.85512 -0.47601,1.71426 -0.76152,3.42935 -0.97133,6.66743 -0.2098,3.23808 -0.34693,7.99881 -0.46721,11.24267 -0.12037,3.24381 -0.22665,4.97213 -0.2539,7.5435 -0.0265,2.57134 0.0189,5.98587 -0.28627,9.02765 -0.30747,3.04186 -0.9736,5.70868 -1.02129,9.80381 -0.0435,4.09522 0.52257,9.62263 0.99848,12.71779 0.47611,3.09519 0.85815,3.76112 1.14385,4.66587 0.28551,0.90476 0.47696,2.04815 1.14375,3.38141 0.66661,1.33337 1.80676,2.85419 3.54491,4.71128 1.73796,1.8571 4.07515,4.05009 6.12275,5.7643 2.04761,1.71427 3.80951,2.95358 5.52372,4.23924 1.7143,1.28568 3.37948,2.61535 5.16514,3.85342 1.78575,1.23816 3.68885,2.38183 6.3317,3.7627 2.64276,1.38098 6.02377,2.99855 8.33332,3.80809 2.30946,0.80983 3.54775,0.81069 5.8096,-0.90323 2.26186,-1.7143 5.54842,-5.14034 8.02462,-8.09269 2.47621,-2.95237 4.14177,-5.43027 5.64172,-7.62069 1.49995,-2.19044 2.83316,-4.09743 3.97606,-5.5736 1.1428,-1.47619 2.09521,-2.5198 2.80941,-3.47224 0.71411,-0.95236 1.19003,-1.80994 2.23773,-3.38141 1.0476,-1.5714 2.6702,-3.85905 4.4798,-7.90658 1.8095,-4.04761 3.80894,-9.8545 4.85645,-13.5211 0.009,-0.0187 0.009,-0.0351 0.0189,-0.0616 0.22116,3.66856 0.66576,7.13972 0.93499,8.70541 0.97871,5.69657 4.09985,13.04971 6.20455,16.39874 2.64049,4.20148 7.93036,10.27686 11.94617,12.83126 1.96149,1.24765 5.03455,1.99481 6.49959,1.9063 2.73929,-0.16592 6.80754,-2.40746 8.78714,-4.32096 1.1761,-1.13678 2.2499,-2.41123 3.2861,-3.72642 2.3002,-2.91933 5.7408,-7.14824 7.6161,-9.49965 2.6375,-3.30722 5.7875,-9.45794 7.1622,-13.46218 1.374,-4.00168 2.4131,-8.14415 3.4042,-12.28653 0.9146,-3.82321 2.0087,-8.22611 2.401,-9.84924 0.9315,-3.85396 1.4986,-10.28443 1.2981,-14.23823 -0.1011,-1.99222 -0.2476,-3.98387 -0.3179,-5.97307 -0.1378,-3.90594 -0.1712,-7.82727 -0.1861,-11.75095 -0.079,-19.42338 -2.2186,-35.79046 -2.4147,-36.62364 -0.4919,-2.08907 -2.3033,-5.12267 -3.5994,-6.84452 -1.4138,-1.87836 -3.0216,-3.63948 -4.852,-5.02906 -1.7891,-1.35831 -5.339,-2.74489 -7.5344,-2.38286 -0.4848,0.079 -0.9576,0.19684 -1.4115,0.34517 -1.4056,0.45848 -2.6381,1.28103 -3.799,2.22855 -2.0715,1.69058 -5.2888,4.60272 -7.19396,6.47688 -0.42339,0.41632 -0.84319,0.83701 -1.26176,1.25721 -0.96527,0.96869 -2.53052,2.52849 -3.51765,3.46311 -0.82209,0.77816 -1.64995,1.55399 -2.45094,2.35115 -1.90348,1.89415 -4.49863,5.40803 -5.92317,7.68417 -2.21983,3.54716 -4.15378,7.2858 -5.91408,11.09741 -1.44847,3.13637 -3.28214,7.43271 -4.06676,9.59961 -1.02091,2.8192 -2.82209,7.52845 -2.27226,10.46871 -0.0265,4.02696 0.40399,5.62804 0.29507,7.64369 -0.24151,4.47834 0.23005,7.39196 -0.96395,11.74383 -0.088,0.31532 -2.08972,21.68986 -2.17309,22.03214 0.26346,-5.63606 2.4375,-32.61914 2.52702,-37.47315 0.14318,-7.71422 -0.14309,-11.71635 -0.28542,-13.71628 -0.14318,-1.99998 -0.14318,-1.99752 -0.28636,-2.37836 -0.14309,-0.38032 -0.42945,-1.14462 -0.95316,-2.19219 -0.52342,-1.04765 -1.28702,-2.38111 -1.71562,-5.71438 -0.4286,-3.33329 -0.52172,-8.66439 -0.93953,-13.36223 -0.4181,-4.69791 -1.15899,-8.76099 -3.15899,-12.80852 -2.00001,-4.04763 -5.25997,-8.08172 -7.49817,-10.43471 -2.2381,-2.3531 -3.45548,-3.02756 -5.16969,-3.21807 -0.4286,-0.0439 -0.88928,-0.0613 -1.36614,-0.0528" />
                <path
                   class="interactive-path"
                   id="path14"
                   fill="transparent"
                   data-tooth="L1"
                   d="m 63.649944,392.71214 c -5.204229,0.72538 -8.813112,5.44297 -11.049228,9.84573 -2.239996,6.74329 -2.042305,14.01222 -2.704083,21.02087 -0.552002,14.4326 -1.121133,28.89965 -0.619098,43.33778 1.828715,9.20871 3.782253,18.4642 6.872728,27.34101 2.714303,7.51813 7.669928,13.84739 12.816524,19.84453 2.96764,3.63808 6.39596,8.04588 11.493347,8.32096 6.131835,-1.06652 10.016198,-6.64829 13.619119,-11.21665 6.796717,-9.49133 9.193787,-21.68801 7.524857,-33.15714 -1.17776,-11.6626 -2.308231,-23.30695 -2.730206,-35.02256 -0.462573,-8.19254 -4.756514,-15.47323 -8.221646,-22.70451 -2.87452,-5.95617 -7.05225,-11.10835 -11.859677,-15.60927 -4.356494,-4.00343 -8.207546,-8.83001 -13.433256,-11.73006 -0.543202,-0.20822 -1.129462,-0.28993 -1.709381,-0.27069 z" />
                <path
                   class="interactive-path"
                   id="path15"
                   fill="transparent"
                   data-tooth="L2"
                   d="m 122.23659,387.70485 c -5.93854,5.66555 -11.19615,12.81836 -11.80772,21.2695 -1.21971,7.38919 -0.32407,15.25637 -3.15266,22.24313 -2.11342,3.8217 -0.82757,8.4611 -1.21369,12.61021 -0.12548,14.73866 0.62821,29.53046 2.91661,44.09527 3.03899,10.31518 9.19396,19.3148 15.67389,27.75421 4.53873,6.1433 8.84347,12.80738 15.06771,17.38785 3.05849,1.22593 5.93188,-1.66368 8.68327,-2.58454 9.12543,-4.92286 17.6201,-11.19264 24.80607,-18.67973 4.88094,-5.71214 4.81568,-13.81678 4.98588,-20.92413 -0.28026,-10.8078 -1.43611,-21.56484 -1.57647,-32.37788 -0.26327,-5.46785 -0.0822,-11.0731 -2.22013,-16.23125 -1.73326,-5.73095 -3.6309,-11.42923 -6.71594,-16.59645 -4.67237,-10.53927 -12.98209,-18.85131 -21.54752,-26.31753 -6.77435,-5.56985 -14.51469,-11.78028 -23.70716,-11.71809 z" />
                <path
                   class="interactive-path"
                   id="path16"
                   fill="transparent"
                   data-tooth="L3"
                   d="m 223.40466,371.06355 c -7.52778,0.198 -16.48981,0.16848 -21.8246,6.43175 -6.42553,7.89758 -8.11765,18.31942 -10.70519,27.88066 -4.18034,17.95928 -7.28129,36.27698 -7.81276,54.73632 -0.0163,7.31963 1.80887,14.48708 3.21115,21.62728 3.15252,11.55889 7.16003,23.07106 13.41471,33.34393 6.40063,8.41216 14.86484,15.02913 23.38603,21.17216 3.70346,2.23261 7.5434,5.56379 12.13669,5.21643 8.82492,-3.25402 16.2283,-9.37186 23.99772,-14.51454 8.05807,-5.63859 17.66541,-11.24769 20.80284,-21.23106 2.92457,-9.64011 2.12342,-19.88377 2.88519,-29.81597 0.55682,-14.07545 1.33345,-28.23282 -0.64079,-42.24088 -1.26323,-11.62915 -3.93162,-23.85469 -12.12719,-32.70222 -7.92753,-8.47954 -14.63332,-18.62642 -25.2141,-24.15316 -6.21636,-3.42725 -13.08634,-6.2751 -20.33462,-5.75893 -0.39171,0.002 -0.78339,0.005 -1.17508,0.009 z" />
                <path
                   class="interactive-path"
                   id="path17"
                   fill="transparent"
                   data-tooth="L4"
                   d="m 336.48448,400.24796 c -11.56055,0.91631 -21.98618,8.13797 -28.00051,17.89771 -9.34812,14.9473 -12.88063,32.58568 -16.06692,49.68079 -1.63503,10.23618 -3.44753,20.49435 -4.08239,30.84719 1.3187,13.36098 4.99979,26.9699 13.08135,37.88663 4.93278,6.24515 12.29127,10.57677 20.2871,11.21885 10.92621,2.12163 22.10131,1.52909 33.16323,1.41878 6.5963,-0.39183 13.36574,-0.12735 19.8165,-1.66101 4.53422,-3.11745 6.94466,-8.52603 8.49544,-13.64245 2.0838,-12.18827 1.69164,-24.63992 1.98807,-36.96092 -0.13292,-10.38697 0.4758,-20.8238 -0.49733,-31.17757 -3.28737,-18.10467 -8.85111,-36.63872 -20.96648,-50.90719 -6.8026,-7.97124 -16.56664,-14.06029 -27.21806,-14.60081 z" />
                <path
                   class="interactive-path"
                   id="path18"
                   fill="transparent"
                   data-tooth="L5"
                   d="m 449.02454,374.76478 c -8.72576,-0.18475 -16.39176,4.8871 -22.49571,10.65171 -8.27296,7.44989 -14.54829,16.81569 -19.22775,26.86515 -6.74699,12.46528 -9.01169,26.6665 -11.57434,40.43295 -2.07131,13.57542 -4.30963,27.29622 -3.65289,41.07249 1.20607,14.66123 5.82248,28.78267 10.58755,42.6122 3.30499,8.70358 10.47559,16.85006 19.94636,18.63238 17.94014,1.95012 36.02754,2.22411 54.00184,3.56832 12.91391,0.22472 26.27713,-0.726 38.28494,-5.84829 8.09211,-3.72212 13.47399,-11.89589 14.8068,-20.58203 2.23803,-14.03434 -0.11689,-28.24853 -0.5568,-42.33204 -0.44312,-13.88728 -2.40085,-27.73683 -6.50793,-41.03281 -3.14524,-11.05104 -6.40961,-22.22539 -12.52805,-32.06803 -9.48944,-16.51 -23.69783,-30.98142 -41.78574,-37.752 -6.13258,-2.43931 -12.64534,-4.29648 -19.29828,-4.22 z" />
                <path
                   class="interactive-path"
                   id="path19"
                   fill="transparent"
                   data-tooth="R1"
                   d="m 626.39595,376.25788 c -11.95766,0.39811 -23.46279,5.12409 -33.38755,11.59217 -13.33941,9.35967 -23.72395,22.47877 -30.91034,37.0288 -4.79774,9.46076 -7.22449,19.88754 -10.25926,29.99489 -5.11009,17.3327 -4.84321,35.54589 -6.15074,53.40272 -0.65187,12.08303 -1.80379,25.20353 4.34908,36.1795 4.13476,7.37782 12.30714,11.04808 20.21843,12.84765 13.27304,3.46552 27.12951,3.10637 40.66801,1.94311 14.12708,-0.94345 28.32804,-1.11264 42.39738,-2.73931 9.8022,-2.30381 17.30186,-10.64837 20.30651,-20.04247 4.44933,-12.38442 8.10008,-25.15139 9.94445,-38.19748 1.00423,-16.35226 -1.50243,-32.69179 -4.26033,-48.76641 -2.64262,-15.3111 -6.83109,-30.59896 -15.02098,-43.94871 -6.51402,-10.98219 -15.32654,-21.16946 -26.83755,-27.05319 -3.42464,-1.71607 -7.24666,-2.36754 -11.05711,-2.24127 z" />
                <path
                   class="interactive-path"
                   id="path20"
                   fill="transparent"
                   data-tooth="R2"
                   d="m 738.53357,402.05559 c -14.4907,0.52517 -25.88023,11.907 -32.99409,23.60913 -7.64037,12.90467 -11.91237,27.61189 -14.43079,42.27521 0.26861,20.74461 -0.55917,41.54283 0.82495,62.25223 1.16119,6.90317 3.21908,14.99572 9.66837,18.78038 8.68282,2.00332 17.77293,1.15355 26.62578,1.56536 11.59101,-0.21937 23.69295,0.40317 34.7419,-3.6736 12.69785,-5.9706 18.8965,-20.01266 22.07233,-32.89696 4.28192,-15.43366 1.58816,-31.55096 0.089,-47.17584 -2.49523,-17.89422 -5.74582,-37.07465 -17.81909,-51.26953 -7.16827,-8.09097 -17.93369,-13.35725 -28.7787,-13.46638 z" />
                <path
                   class="interactive-path"
                   id="path21"
                   fill="transparent"
                   data-tooth="R3"
                   d="m 848.50451,372.69542 c -8.53981,0.15105 -16.28223,4.754 -23.23861,9.30124 -7.90803,5.93121 -13.6284,14.22738 -20.25896,21.46176 -8.03625,9.03448 -10.14433,21.35712 -11.36965,32.97141 -1.5063,10.25771 -1.66387,20.61617 -0.88815,30.94071 0.82644,12.90045 -0.0161,26.06624 2.88985,38.74198 2.66945,10.52109 12.81795,16.16591 20.95877,22.08383 7.9826,4.9596 15.15513,11.78107 24.30524,14.53297 5.97493,-0.0502 10.67911,-4.72749 15.41717,-7.82442 10.00749,-7.28471 19.78105,-15.8313 24.56567,-27.56807 6.51255,-14.33551 10.76778,-29.75956 11.90046,-45.48277 -0.74061,-21.08444 -4.59734,-41.99128 -9.74204,-62.41541 -2.69121,-8.97211 -5.29811,-19.83752 -14.3514,-24.47539 -6.28335,-2.8987 -13.48209,-1.86772 -20.18835,-2.26784 z" />
                <path
                   class="interactive-path"
                   id="path22"
                   fill="transparent"
                   data-tooth="R4"
                   d="m 951.70651,389.28452 c -9.99574,1.13017 -17.97323,8.26006 -25.2985,14.57787 -9.93936,8.6268 -17.4961,19.73912 -22.08218,32.05984 -3.14593,7.59457 -5.38318,15.61504 -5.19789,23.90246 -0.43049,14.33213 -1.79323,28.72994 -0.68988,43.05014 0.6807,5.2174 3.23299,9.99555 7.3794,13.28222 8.55674,7.93483 18.37866,14.99805 29.3501,19.02211 9.49258,-7.36516 15.59953,-18.12593 22.8011,-27.56888 6.1943,-9.43466 10.09011,-20.4512 10.22761,-31.80377 0.66367,-13.6301 2.7003,-27.39752 0.92856,-41.00908 -1.79493,-4.87237 -2.7498,-9.88672 -2.9191,-15.08204 -0.65534,-7.85649 -0.79918,-16.34498 -6.00351,-22.80863 -2.32015,-2.66317 -4.16997,-6.67954 -7.79598,-7.62669 -0.23308,-0.009 -0.46683,-0.0116 -0.69973,0.005 z" />
                <path
                   class="interactive-path"
                   id="path23"
                   fill="transparent"
                   data-tooth="R5"
                   d="m 1012.0708,394.28336 c -4.2945,0.62119 -6.8809,4.92275 -10.2265,7.29678 -7.31843,6.10476 -13.49361,13.52876 -17.57008,22.18058 -2.78783,5.98752 -5.97531,12.05245 -7.48066,18.44351 -0.0445,14.90954 -1.65765,29.70531 -2.92963,44.53883 0.0653,13.4322 6.11114,27.44512 17.25397,35.30568 4.20602,3.63091 9.9325,0.38083 12.8462,-3.25963 7.2934,-8.4587 14.6871,-17.43887 17.3155,-28.57263 2.7623,-10.49386 6.2078,-21.09985 5.4293,-32.09785 -0.4117,-17.04761 -0.201,-34.22987 -2.751,-51.1267 -1.1257,-5.49554 -5.2519,-10.63522 -10.5478,-12.5713 -0.4386,-0.10039 -0.8893,-0.15012 -1.3393,-0.13734 z" />
              </g>
              <text
                 xml:space="preserve"
                 style="font-size:49.136px;font-family:'KC Acme Hand';-inkscape-font-specification:'KC Acme Hand';text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#b0d5ee;stroke-width:0"
                 x="53.645493"
                 y="374.15509"
                 id="text1-svg"><tspan
                   sodipodi:role="line"
                   id="tspan1-svg"
                   style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:49.136px;font-family:'Franklin Gothic Medium';-inkscape-font-specification:'Franklin Gothic Medium, ';fill:#000000;stroke-width:0"
                   x="53.645493"
                   y="374.15509">R1</tspan></text>
              <text
                 xml:space="preserve"
                 style="font-size:49.136px;font-family:'KC Acme Hand';-inkscape-font-specification:'KC Acme Hand';text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#b0d5ee;stroke-width:0"
                 x="127.34981"
                 y="374.15509"
                 id="text2-svg"><tspan
                   sodipodi:role="line"
                   id="tspan2-svg"
                   style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:49.136px;font-family:'Franklin Gothic Medium';-inkscape-font-specification:'Franklin Gothic Medium, ';fill:#000000;stroke-width:0"
                   x="127.34981"
                   y="374.15509">R2</tspan></text>
              <text
                 xml:space="preserve"
                 style="font-size:49.136px;font-family:'KC Acme Hand';-inkscape-font-specification:'KC Acme Hand';text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#b0d5ee;stroke-width:0"
                 x="214.87347"
                 y="374.15509"
                 id="text3-svg"><tspan
                   sodipodi:role="line"
                   id="tspan3-svg"
                   style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:49.136px;font-family:'Franklin Gothic Medium';-inkscape-font-specification:'Franklin Gothic Medium, ';fill:#000000;stroke-width:0"
                   x="214.87347"
                   y="374.15509">R3</tspan></text>
              <text
                 xml:space="preserve"
                 style="font-size:49.136px;font-family:'KC Acme Hand';-inkscape-font-specification:'KC Acme Hand';text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#b0d5ee;stroke-width:0"
                 x="316.2168"
                 y="374.15509"
                 id="text4-svg"><tspan
                   sodipodi:role="line"
                   id="tspan4-svg"
                   style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:49.136px;font-family:'Franklin Gothic Medium';-inkscape-font-specification:'Franklin Gothic Medium, ';fill:#000000;stroke-width:0"
                   x="316.2168"
                   y="374.15509">R4</tspan></text>
              <text
                 xml:space="preserve"
                 style="font-size:49.136px;font-family:'KC Acme Hand';-inkscape-font-specification:'KC Acme Hand';text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#b0d5ee;stroke-width:0"
                 x="440.59274"
                 y="374.15509"
                 id="text5-svg"><tspan
                   sodipodi:role="line"
                   id="tspan5-svg"
                   style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:49.136px;font-family:'Franklin Gothic Medium';-inkscape-font-specification:'Franklin Gothic Medium, ';fill:#000000;stroke-width:0"
                   x="440.59274"
                   y="374.15509">R5</tspan></text>
              <text
                 xml:space="preserve"
                 style="font-size:49.136px;font-family:'KC Acme Hand';-inkscape-font-specification:'KC Acme Hand';text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#b0d5ee;stroke-width:0"
                 x="578.78802"
                 y="374.15509"
                 id="text6-svg"><tspan
                   sodipodi:role="line"
                   id="tspan6-svg"
                   style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:49.136px;font-family:'Franklin Gothic Medium';-inkscape-font-specification:'Franklin Gothic Medium, ';fill:#000000;stroke-width:0"
                   x="578.78802"
                   y="374.15509">L1</tspan></text>
              <text
                 xml:space="preserve"
                 style="font-size:49.136px;font-family:'KC Acme Hand';-inkscape-font-specification:'KC Acme Hand';text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#b0d5ee;stroke-width:0"
                 x="703.16351"
                 y="374.15509"
                 id="text7-svg"><tspan
                   sodipodi:role="line"
                   id="tspan7-svg"
                   style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:49.136px;font-family:'Franklin Gothic Medium';-inkscape-font-specification:'Franklin Gothic Medium, ';fill:#000000;stroke-width:0"
                   x="703.16351"
                   y="374.15509">L2</tspan></text>
              <text
                 xml:space="preserve"
                 style="font-size:49.136px;font-family:'KC Acme Hand';-inkscape-font-specification:'KC Acme Hand';text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#b0d5ee;stroke-width:0"
                 x="813.71832"
                 y="374.15509"
                 id="text8-svg"><tspan
                   sodipodi:role="line"
                   id="tspan8-svg"
                   style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:49.136px;font-family:'Franklin Gothic Medium';-inkscape-font-specification:'Franklin Gothic Medium, ';fill:#000000;stroke-width:0"
                   x="813.71832"
                   y="374.15509">L3</tspan></text>
              <text
                 xml:space="preserve"
                 style="font-size:49.136px;font-family:'KC Acme Hand';-inkscape-font-specification:'KC Acme Hand';text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#b0d5ee;stroke-width:0"
                 x="901.24097"
                 y="374.15509"
                 id="text9-svg"><tspan
                   sodipodi:role="line"
                   id="tspan9-svg"
                   style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:49.136px;font-family:'Franklin Gothic Medium';-inkscape-font-specification:'Franklin Gothic Medium, ';fill:#000000;stroke-width:0"
                   x="901.24097"
                   y="374.15509">L4</tspan></text>
              <text
                 xml:space="preserve"
                 style="font-size:49.136px;font-family:'KC Acme Hand';-inkscape-font-specification:'KC Acme Hand';text-align:start;writing-mode:lr-tb;direction:ltr;text-anchor:start;fill:#b0d5ee;stroke-width:0"
                 x="974.94403"
                 y="374.15509"
                 id="text10-svg"><tspan
                   sodipodi:role="line"
                   id="tspan10-svg"
                   style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:49.136px;font-family:'Franklin Gothic Medium';-inkscape-font-specification:'Franklin Gothic Medium, ';fill:#000000;stroke-width:0"
                   x="974.94403"
                   y="374.15509">L5</tspan></text>
            </svg>
        </div>

        <h2>2. Choose Material & Options</h2>
        <div>
            <label for="clientName">Client Name (Optional):</label>
            <input type="text" id="clientName" placeholder="Enter client's name">
        </div>
        <div>
            <label for="material">Base Material:</label>
            <select id="material">
                <option value="cobalt_chrome">Cobalt Chrome (€60/tooth)</option>
                <option value="gold_plated">Gold Plated (€100/tooth)</option>
                <option value="solid_gold">Solid Gold (€250/tooth)</option>
            </select>
        </div>

        <div id="toothSelections">
            <h2>3. Select Add-Ons (Per Tooth)</h2>
            <p id="noTeethSelectedMsg">Select teeth from the diagram above to choose add-ons.</p>
        </div>

        <button id="generateQuoteBtn">Generate Quote</button>

        <div id="results" style="display: none;">
            </div>

        <button id="copyQuoteBtn" style="display: none;">Copy Quote to Clipboard</button>

    </div><div id="galleryModal" style="display: none;">
      <span class="gallery-modal-close" title="Close (Esc)"></span> <span class="gallery-modal-exit" title="Close (Esc)">&times;</span> <button class="gallery-modal-nav prev" title="Previous (Left Arrow)">&#10094;</button>
      <div class="gallery-modal-content">
        <img id="galleryImage" src="" alt="Add-on Render">
        <div id="galleryCaption">
            </div>
      </div>
      <button class="gallery-modal-nav next" title="Next (Right Arrow)">&#10095;</button>
    </div>


    <script>
        // --- Constants and Initial State ---
        const BASE_PRICES = {
          cobalt_chrome: 60,
          gold_plated: 100,
          solid_gold: 250
        };

        const MATERIAL_FILL_COLORS = {
          cobalt_chrome: 'url(#cobalt-chrome-gradient)',
          gold_plated: 'url(#gold-plated-gradient)',
          solid_gold: 'url(#solid-gold-gradient)'
        };

        const ADD_ONS = {
          plain_solid: { price: 0, description: "Sleek, solid grillz design with a smooth, polished finish for a classic look." },
          fang_shaping: { price: 20, description: "Sharp, pointed shaping for a bold, fang-inspired style on your grillz." },
          three_d_accents: { price: 50, description: "Personalized, raised 3D elements added to your grillz for a bold, sculpted look." },
          cutout: { price: 30, description: "Custom cut-out patterns that enhance your grillz with a unique, open design." },
          texture_finish: { price: 30, description: "Textured surface finish, like matte or brushed, adding variation to your grillz." },
          window: { price: 30, description: "Large openings in the grillz that showcase your natural teeth with bold style." },
          engraving: { price: 40, description: "Personalized engravings, such as initials or symbols, etched into your grillz." },
          gem_inlay: { price: 75, description: "Sparkling gemstones embedded into your grillz for a luxurious, eye-catching shine." },
          custom_design: { price: 100, description: "Fully bespoke design tailored to your vision, crafted uniquely for you." }
        };

        const ADD_ONS_ARRAY = Object.keys(ADD_ONS);

        const ADD_ON_IMAGES = {};
        Object.entries(ADD_ONS).forEach(([key, { price, description }]) => {
          const imageName = key.replace(/_/g, '-') + '-render.jpg'; // Use global replace
          ADD_ON_IMAGES[key] = `https://raw.githubusercontent.com/eyeohdice/Sweet-Toof-Quote/main/images/addons/${imageName}`;
        });

        const CAST_COST_PER_TOOTH = 20;
        const IMPRESSION_COST = 3;
        const selectedTeeth = new Map();
        let currentFillColor = MATERIAL_FILL_COLORS['cobalt_chrome'];
        let currentMaterial = 'cobalt_chrome'; // Track current material selection

        // --- Utility Functions ---
        function capitalizeWords(str) {
          if (!str) return ''; // Handle potential null/undefined input
          if (str === 'three_d_accents') return '3D Accents';
          return str
            .split('_')
            .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())
            .join(' ');
        }

        // Removed mapToothId() function as it's not needed with this SVG/JS setup

        // --- SVG and Gradient Injection ---
        function injectMaterialGradients() {
            const svg = document.querySelector('#svgContainer svg');
            if (!svg) {
                console.error("SVG element not found for gradient injection.");
                return;
            }

            let defs = svg.querySelector('defs');
            // Check if defs exists, if not, create it. Handles SVG with or without existing defs.
            if (!defs) {
                defs = document.createElementNS("http://www.w3.org/2000/svg", "defs");
                // Insert defs as the first element within the SVG is good practice
                if (svg.firstChild) {
                    svg.insertBefore(defs, svg.firstChild);
                } else {
                    svg.appendChild(defs);
                }
            }

            // Define gradient creation logic as a reusable function
            const createGradient = (id, color1, color2) => {
                 // Check if the specific gradient already exists within the defs
                 if (!defs.querySelector(`#${id}`)) {
                    const gradient = document.createElementNS("http://www.w3.org/2000/svg", "linearGradient");
                    gradient.setAttribute("id", id);
                    gradient.setAttribute("x1", "0%");
                    gradient.setAttribute("y1", "0%");
                    gradient.setAttribute("x2", "100%");
                    gradient.setAttribute("y2", "100%"); // Diagonal gradient

                    const stop1 = document.createElementNS("http://www.w3.org/2000/svg", "stop");
                    stop1.setAttribute("offset", "0%");
                    stop1.setAttribute("stop-color", color1);
                    stop1.setAttribute("stop-opacity", "1");

                    const stop2 = document.createElementNS("http://www.w3.org/2000/svg", "stop");
                    stop2.setAttribute("offset", "100%");
                    stop2.setAttribute("stop-color", color2);
                    stop2.setAttribute("stop-opacity", "1");

                    gradient.appendChild(stop1);
                    gradient.appendChild(stop2);
                    defs.appendChild(gradient); // Append to the found or created defs
                }
            };

            // Create gradients if they don't exist
            createGradient("cobalt-chrome-gradient", "#d7dfe9", "#6b8299");
            createGradient("gold-plated-gradient", "#f0e7b7", "#d4c085");
            createGradient("solid-gold-gradient", "#f7e788", "#d4af37");
        }

        // Removed addSVGLabels() function because labels are now in the SVG content

        // --- Interactivity ---
        function initToothInteractivity() {
            const svg = document.querySelector('#svgContainer svg');
            if (!svg) return;
            const noTeethMsg = document.getElementById('noTeethSelectedMsg');

            svg.querySelectorAll('.interactive-path').forEach(path => {
                const toothId = path.dataset.tooth; // Use the ID directly from data-tooth
                if (!toothId) return; // Skip paths without a tooth ID

                path.setAttribute('aria-label', `Tooth ${toothId}`); // Use direct ID for label
                path.addEventListener('click', () => {
                    const isSelected = selectedTeeth.has(toothId);

                    path.setAttribute('fill', isSelected ? 'transparent' : currentFillColor);

                    if (isSelected) {
                        selectedTeeth.delete(toothId);
                        document.getElementById(`control-${toothId}`)?.remove();
                    } else {
                        selectedTeeth.set(toothId, []); // Initialize with empty addons
                        addToothControl(toothId);
                    }

                    // Update the "no teeth selected" message visibility
                    if (noTeethMsg) {
                       noTeethMsg.style.display = selectedTeeth.size === 0 ? 'block' : 'none';
                    }
                });
            });

             // Initial check for the message
             if (noTeethMsg) {
                noTeethMsg.style.display = selectedTeeth.size === 0 ? 'block' : 'none';
             }
        }

        function addToothControl(toothId) {
          const container = document.getElementById('toothSelections');
          // Remove placeholder message if it exists and this is the first tooth
          const noTeethMsg = document.getElementById('noTeethSelectedMsg');
          if (noTeethMsg && selectedTeeth.size === 1) {
              noTeethMsg.style.display = 'none';
          }

          const div = document.createElement('div');
          div.id = `control-${toothId}`;
          div.className = 'add-on-group';

          // Sort add-ons by price for consistent display
          const sortedAddOns = Object.entries(ADD_ONS).sort((a, b) => a[1].price - b[1].price);

          div.innerHTML = `
            <label>${toothId} Add-Ons <span class="hint-text">(Preview add-ons with eye icon)</span></label>
            <div class="addon-buttons" id="addon-buttons-${toothId}">
              ${sortedAddOns.map(([key, { price, description }]) => `
                <button class="addon-button" data-addon="${key}" onclick="toggleAddOn('${toothId}', '${key}')" aria-label="${capitalizeWords(key)} add-on, €${price}">
                  <span class="addon-name">${capitalizeWords(key)}</span>
                  <span class="addon-price">€${price}</span>
                  <svg class="addon-preview-icon" onclick="event.stopPropagation(); openGallery('${key}');" aria-label="View ${capitalizeWords(key)} render" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                  </svg>
                </button>
              `).join('')}
            </div>
          `;
          container.appendChild(div);
        }

        function toggleAddOn(toothId, addonKey) {
            if (!selectedTeeth.has(toothId)) return; // Safety check

            const addOns = selectedTeeth.get(toothId);
            const index = addOns.indexOf(addonKey);
            const button = document.querySelector(`#addon-buttons-${toothId} [data-addon="${addonKey}"]`);

            if (index === -1) { // Selecting this addon
                // If selecting 'Plain Solid', deselect all others for this tooth
                if (addonKey === 'plain_solid') {
                    const currentAddons = Array.from(addOns); // Create copy to iterate over
                    currentAddons.forEach(existingAddon => {
                        if (existingAddon !== 'plain_solid') {
                            const otherButton = document.querySelector(`#addon-buttons-${toothId} [data-addon="${existingAddon}"]`);
                            otherButton?.classList.remove('selected');
                        }
                    });
                    // Clear the array and add only plain_solid
                    addOns.length = 0;
                    addOns.push(addonKey);
                } else {
                    // If selecting something else, deselect 'Plain Solid' if it's selected
                    const plainSolidIndex = addOns.indexOf('plain_solid');
                    if (plainSolidIndex !== -1) {
                         addOns.splice(plainSolidIndex, 1);
                         const plainButton = document.querySelector(`#addon-buttons-${toothId} [data-addon="plain_solid"]`);
                         plainButton?.classList.remove('selected');
                    }
                    // Add the new addon
                    addOns.push(addonKey);
                }
                button?.classList.add('selected');
            } else { // Deselecting this addon
                addOns.splice(index, 1);
                button?.classList.remove('selected');
            }
            selectedTeeth.set(toothId, addOns); // Update the map
        }


        // --- Quote Generation & Display ---
        function updateQuote() {
          const clientName = document.getElementById('clientName').value.trim() || 'Unnamed Client';
          const material = document.getElementById('material').value;
          const toothCount = selectedTeeth.size;

          if (toothCount === 0) {
              alert('Please select at least one tooth from the diagram.');
              return;
          }

          let totalSalePrice = 0;
          const addOnSummary = [];
          const perToothBreakdown = [];

          // Ensure selectedTeeth are sorted for consistent quote output (e.g., R1, R2, L1, L2)
          const sortedTeeth = Array.from(selectedTeeth.keys()).sort((a, b) => {
            const typeA = a.charAt(0);
            const numA = parseInt(a.slice(1), 10);
            const typeB = b.charAt(0);
            const numB = parseInt(b.slice(1), 10);

            // Sort R before L, then by number ascending
            if (typeA === 'R' && typeB === 'L') return -1;
            if (typeA === 'L' && typeB === 'R') return 1;
            // If types are the same, sort by number
            if (typeA === typeB) return numA - numB;
            // Should not happen with R/L, but as fallback:
            return a.localeCompare(b);
          });

          sortedTeeth.forEach(toothId => {
              const addOns = selectedTeeth.get(toothId) || [];
              // Ensure "Plain Solid" is added if no other add-ons are selected for a tooth
              if (addOns.length === 0) {
                  addOns.push('plain_solid');
                  // Also visually select the 'plain_solid' button if it exists
                  const plainButton = document.querySelector(`#addon-buttons-${toothId} [data-addon="plain_solid"]`);
                   plainButton?.classList.add('selected');
                   selectedTeeth.set(toothId, addOns); // Update map
              }

              const addOnCost = addOns.reduce((sum, key) => sum + (ADD_ONS[key]?.price || 0), 0);
              const toothBasePrice = BASE_PRICES[material] || 0;
              const toothPrice = toothBasePrice + addOnCost;
              totalSalePrice += toothPrice;

              addOnSummary.push(`<strong>${toothId}:</strong> ${addOns.length > 0 ? addOns.map(addon => capitalizeWords(addon)).join(', ') : 'Plain Solid'}`);
              perToothBreakdown.push(`<strong>${toothId}:</strong> €${toothPrice} (€${toothBasePrice} base + €${addOnCost} add-ons)`);
          });


          const totalCost = (CAST_COST_PER_TOOTH * toothCount) + IMPRESSION_COST;
          const profit = totalSalePrice - totalCost;
          const marginPercent = totalSalePrice > 0 ? ((profit / totalSalePrice) * 100).toFixed(2) : "0.00";
          const depositDue = (totalSalePrice * 0.5).toFixed(2);
          const timestamp = new Date().toISOString().replace(/[-:.TZ]/g, '').slice(0, 14);
          const safeClientName = clientName.replace(/[^a-zA-Z0-9]/g, '') || 'CLIENT'; // Sanitize name for ID
          const uniqueId = `${safeClientName.toUpperCase()}-${timestamp}`;

          const results = document.getElementById('results');
          results.innerHTML = `
            <h3>Quote for ${clientName}</h3>
            <p><strong>Quote ID:</strong> ${uniqueId}</p>
            <p><strong>Material:</strong> ${capitalizeWords(material)}</p>
            <p><strong>Selected Teeth (${toothCount}):</strong> ${sortedTeeth.join(', ')}</p>
            <p><strong>Add-Ons Per Tooth:</strong><br>${addOnSummary.join('<br>')}</p>
            <hr style="border: none; border-top: 1px solid var(--border-color); margin: 15px 0;">
            <p><strong>Total Sale Price:</strong> <strong style="font-size: 1.2em;">€${totalSalePrice}</strong></p>
            <p><strong>Deposit Due (50%):</strong> <strong style="font-size: 1.1em;">€${depositDue}</strong></p>
            <div class="secret-info" style="display: none;"> <hr style="border: none; border-top: 1px dashed var(--warning-border); margin: 15px 0;">
              <h4>Admin Details</h4>
              <p><strong>Per-Tooth Breakdown:</strong><br>${perToothBreakdown.join('<br>')}</p>
              <p><strong>Total Est. Cost:</strong> €${totalCost}</p>
              <p><strong>Est. Profit:</strong> €${profit}</p>
              <p><strong>Est. Profit Margin:</strong> ${marginPercent}%</p>
            </div>
          `;
          results.style.display = 'block'; // Make results visible
          // Add classlist for CSS transition after display:block
          setTimeout(() => results.classList.add('visible'), 10);


          // Prepare text for clipboard
          // Get current date and time in Cyprus
          const now = new Date();
          const options = { timeZone: 'Asia/Nicosia', day: '2-digit', month: '2-digit', year: 'numeric', hour: '2-digit', minute: '2-digit', hour12: false };
          const cyprusDateTime = now.toLocaleString('en-GB', options); // Format: DD/MM/YYYY, HH:MM

          const quoteText = `
        Sweet Toof – Custom Grillz Quote
        ---------------------------------
        Quote ID: ${uniqueId}
        Client: ${clientName}
        Date: ${cyprusDateTime} (Cyprus Time)

        Material: ${capitalizeWords(material)}
        Teeth Selected (${toothCount}): ${sortedTeeth.join(', ')}

        Add-Ons:
        ${addOnSummary.map(line => line.replace(/<strong>|<\/strong>/g, '')).join('\n')}

        ---------------------------------
        Total Price: €${totalSalePrice}
        Deposit Due (50%): €${depositDue}
        ---------------------------------
        Thank you! Contact @Sweet.Toof.cy on Instagram to proceed.
        `;

          window.lastQuoteText = quoteText.trim(); // Store for copy button
          document.getElementById('copyQuoteBtn').style.display = 'block'; // Show copy button
        }

        // --- Admin & Password ---
        function askPassword() {
          const input = prompt("Enter Admin Password:");
          // IMPORTANT: This is extremely insecure. Use proper authentication for real applications.
          if (input === "IODICE25") {
            document.querySelectorAll('.secret-info').forEach(el => el.style.display = 'block');
            alert("Admin details unlocked.");
          } else if (input !== null && input !== "") { // Check if user entered something and didn't cancel
            alert("Incorrect password.");
          }
        }

        // --- Image Preloading ---
        function preloadImages() {
          Object.values(ADD_ON_IMAGES).forEach(src => {
            const img = new Image();
            img.src = src;
          });
        }

        // --- Gallery Modal Logic ---
        let currentAddOnIndex = 0;

        function openGallery(addonKey) {
          const initialIndex = ADD_ONS_ARRAY.indexOf(addonKey);
          if (initialIndex === -1) return; // Addon not found

          currentAddOnIndex = initialIndex;
          updateGalleryModal();
          const modal = document.getElementById('galleryModal');
          modal.style.display = 'flex'; // Use flex to enable centering
          document.body.style.overflow = 'hidden'; // Prevent background scrolling
        }

        function closeGallery() {
          const modal = document.getElementById('galleryModal');
          modal.style.display = 'none';
          document.body.style.overflow = 'auto'; // Restore background scrolling
        }

        function updateGalleryModal() {
          if (currentAddOnIndex < 0 || currentAddOnIndex >= ADD_ONS_ARRAY.length) return;

          const addonKey = ADD_ONS_ARRAY[currentAddOnIndex];
          const imageSrc = ADD_ON_IMAGES[addonKey];
          const addonInfo = ADD_ONS[addonKey];

          if (!addonInfo || !imageSrc) {
              console.error("Missing info or image for addon:", addonKey);
              return; // Skip update if data is missing
          }

          const addonName = capitalizeWords(addonKey);
          const { price, description } = addonInfo;

          const imageElement = document.getElementById('galleryImage');
          const captionElement = document.getElementById('galleryCaption');

          imageElement.src = imageSrc;
          imageElement.alt = `High-quality render of ${addonName} add-on`;
          captionElement.innerHTML = `
            <span>${addonName} (€${price})</span>
            <span class="gallery-modal-description">${description}</span>
          `;
        }

        // --- Event Listeners ---
        document.addEventListener('DOMContentLoaded', () => {
            preloadImages(); // Preload gallery images on page load

            const svgContainer = document.getElementById('svgContainer');
            const svg = svgContainer.querySelector('svg');

            if (!svg) {
                 // Display error message if SVG wasn't pasted correctly
                 svgContainer.innerHTML = '<p style="color: red; font-weight: bold;">Error: SVG map not found. Please ensure the SVG code is pasted correctly into the HTML.</p>';
                 console.error('SVG element not found in #svgContainer.');
                 return; // Stop initialization if SVG is missing
            }

            // --- Initialization logic ---
            try {
                // Set viewBox if needed (adjust values as required for your SVG)
                // Zooms vertically into the middle area where teeth likely are
                svg.setAttribute('viewBox', '0 150 1080 350'); // Adjust Y and Height

                injectMaterialGradients(); // Add color gradients
                // addSVGLabels(); // REMOVED - Labels are in the SVG now
                initToothInteractivity(); // Make teeth clickable
            } catch (err) {
                console.error('Failed to initialize SVG:', err);
                svgContainer.innerHTML = '<p>Failed to initialize SVG interactivity.</p>';
            }

            // Initial material setup
            currentMaterial = document.getElementById('material').value;
            currentFillColor = MATERIAL_FILL_COLORS[currentMaterial];

            // Hide admin info initially even if password was entered before reload
             document.querySelectorAll('.secret-info').forEach(el => el.style.display = 'none');
        });

        document.getElementById('material').addEventListener('change', e => {
          currentMaterial = e.target.value;
          currentFillColor = MATERIAL_FILL_COLORS[currentMaterial];
          // Update fill color of already selected teeth
          document.querySelectorAll('#svgContainer svg .interactive-path').forEach(path => {
            const toothId = path.dataset.tooth; // Use direct ID
            if (selectedTeeth.has(toothId)) {
              path.setAttribute('fill', currentFillColor);
            }
          });
        });

        document.getElementById('generateQuoteBtn').addEventListener('click', updateQuote);

        document.getElementById('copyQuoteBtn').addEventListener('click', () => {
          if (!window.lastQuoteText) {
              alert("No quote generated yet to copy.");
              return;
          }
          navigator.clipboard.writeText(window.lastQuoteText)
            .then(() => {
              alert('Quote copied to clipboard!\n\nSend this to @Sweet.Toof.cy on Instagram.');
            })
            .catch(err => {
              console.error('Copy failed:', err);
              alert('Failed to copy the quote. You may need to copy it manually from the page.');
            });
        });

        // Gallery Modal Event Listeners
        document.querySelector('.gallery-modal-close').addEventListener('click', closeGallery);
        document.querySelector('.gallery-modal-exit').addEventListener('click', closeGallery);

        document.querySelector('.gallery-modal-nav.prev').addEventListener('click', () => {
          currentAddOnIndex = (currentAddOnIndex - 1 + ADD_ONS_ARRAY.length) % ADD_ONS_ARRAY.length;
          updateGalleryModal();
        });

        document.querySelector('.gallery-modal-nav.next').addEventListener('click', () => {
          currentAddOnIndex = (currentAddOnIndex + 1) % ADD_ONS_ARRAY.length;
          updateGalleryModal();
        });

        // Gallery Keyboard Navigation & Close
        document.addEventListener('keydown', e => {
          const modal = document.getElementById('galleryModal');
          if (modal.style.display === 'flex') { // Check if modal is visible
            if (e.key === 'Escape') {
              closeGallery();
            } else if (e.key === 'ArrowLeft') {
              currentAddOnIndex = (currentAddOnIndex - 1 + ADD_ONS_ARRAY.length) % ADD_ONS_ARRAY.length;
              updateGalleryModal();
            } else if (e.key === 'ArrowRight') {
              currentAddOnIndex = (currentAddOnIndex + 1) % ADD_ONS_ARRAY.length;
              updateGalleryModal();
            }
          }
        });

        // Gallery Touch Swipe Navigation
        let touchStartX = 0;
        let touchEndX = 0;
        const galleryModalElement = document.getElementById('galleryModal');

        galleryModalElement.addEventListener('touchstart', e => {
            // Check if the touch is on the image or caption area, not controls
            if (e.target.closest('.gallery-modal-content')) {
                 touchStartX = e.changedTouches[0].screenX;
            } else {
                 touchStartX = null; // Ignore swipes starting on controls/background
            }
        }, { passive: true }); // Use passive for better scroll performance if needed

        galleryModalElement.addEventListener('touchend', e => {
            if (touchStartX === null || !e.target.closest('.gallery-modal-content')) return; // Ignore swipes not starting on content

            touchEndX = e.changedTouches[0].screenX;
            const swipeThreshold = 50; // Minimum pixels to trigger swipe

            if (touchStartX - touchEndX > swipeThreshold) { // Swiped Left
                currentAddOnIndex = (currentAddOnIndex + 1) % ADD_ONS_ARRAY.length;
                updateGalleryModal();
            } else if (touchEndX - touchStartX > swipeThreshold) { // Swiped Right
                currentAddOnIndex = (currentAddOnIndex - 1 + ADD_ONS_ARRAY.length) % ADD_ONS_ARRAY.length;
                updateGalleryModal();
            }
            touchStartX = 0; // Reset start position
        });

    </script>

</body>
</html>
